<!DOCTYPE html>
<html>
<head>
	<title>Minimalistic Audio Recorder</title>
</head>
<body>
	<h1>Minimalistic Audio Recorder</h1>
	<button id="recordButton">Record</button>
	<button id="stopButton" disabled>Stop</button>
	<audio id="audioPlayer"></audio>

	<script>
		const recordButton = document.getElementById('recordButton');
		const stopButton = document.getElementById('stopButton');
		const audioPlayer = document.getElementById('audioPlayer');
		let mediaRecorder;
		let chunks = [];

		async function startRecording() {
			try {
				const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
				mediaRecorder = new MediaRecorder(stream);

				mediaRecorder.addEventListener('dataavailable', e => {
					chunks.push(e.data);
				});

				mediaRecorder.addEventListener('stop', () => {
					const audioBlob = new Blob(chunks, { 'type': 'audio/mp3' });
					chunks.length = 0;

					const audioURL = URL.createObjectURL(audioBlob);
					audioPlayer.src = audioURL;
				});

				mediaRecorder.start();

				recordButton.disabled = true;
				stopButton.disabled = false;
			} catch (error) {
				console.log('Error: ', error);
			}
		}

		function stopRecording() {
			mediaRecorder.stop();
			recordButton.disabled = false;
			stopButton.disabled = true;
		}

		recordButton.addEventListener('click', startRecording);
		stopButton.addEventListener('click', stopRecording);
	</script>
</body>
</html>
