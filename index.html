<!DOCTYPE html>
<html>
<head>
	<title>Minimalistic Audio Recorder</title>
</head>
<body>
	<h1>Minimalistic Audio Recorder</h1>
	<button id="recordButton">Record</button>
	<audio id="audioPlayer"></audio>

	<script>
		const recordButton = document.getElementById('recordButton');
		const audioPlayer = document.getElementById('audioPlayer');

		async function startRecording() {
			try {
				const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
				const mediaRecorder = new MediaRecorder(stream);
				const chunks = [];

				mediaRecorder.addEventListener('dataavailable', e => {
					chunks.push(e.data);
				});

				mediaRecorder.addEventListener('stop', () => {
					const audioBlob = new Blob(chunks, { 'type': 'audio/mp3' });
					chunks.length = 0;

					const audioURL = URL.createObjectURL(audioBlob);
					audioPlayer.src = audioURL;
				});

				mediaRecorder.start();

				recordButton.disabled = true;
				mediaRecorder.addEventListener('stop', () => {
					recordButton.disabled = false;
				});
			} catch (error) {
				console.log('Error: ', error);
			}
		}

		recordButton.addEventListener('click', startRecording);
	</script>
</body>
</html>

